<html>
	<body style="margin:20px; color: white; background-color: rgb(23,23,43); font-family: Arial; max-width: 1167px"">
		<div style="font-size: 1000%; margin-bottom: 20px; font-weight: bold;">Randomatones</div>
		<div style="font-size: 200%; margin-bottom: 20px; font-weight: bold; color: grey;">Programmed units generating ambient harmony</div>
        <div style="font-size: 80%;">Visionary, programmer and amateur carpenter: <a target="_blank" href="https://www.facebook.com/andrewbookerdrums">Andrew Booker</a></div>
        <table cellpadding="10px" cellspacing="10px">
		    <tbody id="timeline"></tbody>
        <table>
	    <script src="./timeline.js" type="text/javascript"></script>
        <script>
            const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            const container = document.getElementById("timeline");

		    timeline.map(t => {
                const head = document.createElement("tr");
                const body = document.createElement("tr");
                body.setAttribute("style", "vertical-align: top;");

                const when = document.createElement("td");
                const d = new Date(t.when);
                when.innerHTML = (d.getDate() < 10 ? "0" : "") + d.getDate() + " " + months[d.getMonth()] + " " + d.getFullYear();
                when.setAttribute("style", "color: grey; font-size: 150%; font-weight: bold; float: right; margin-right: 20px;");

                const h = document.createElement("td");
                h.setAttribute("style", "font-size: 150%; font-weight: bold;");
                h.innerHTML = t.heading;
                head.appendChild(when);
                head.appendChild(h);

                const landscape = t.orientation === "landscape";
                const img = document.createElement("img");
                img.src = t.image;
                img.width = landscape ? 320 : 180;
                img.height = (img.width === 180 ? 320 : 180);
                img.setAttribute("style", "float: right; margin-right: 20px;");

                const i = document.createElement("td");
                body.appendChild(i.appendChild(img))

                const txt = document.createElement("td");
                txt.innerHTML = t.text;
                txt.setAttribute("style", "font-size: 90%; color: rgb(221,234,234);");
                body.appendChild(i.appendChild(txt))

                container.appendChild(head);
                container.appendChild(body);
		    });
	    </script>
	</body>
</html>
